language: python
python:
- "3.4"
install:
- pip3 install https://github.com/jnewland/home-assistant/zipball/rancho-de-newland
script:
- openssl req -x509 -newkey rsa:1024 -subj '/CN=example.com' -nodes -keyout /tmp/key.pem -out /tmp/cert.pem
- hass -c . --script check_config | tee /tmp/log
- test "$(grep -c ERROR /tmp/log)" -eq 0
env:
  - ALARM_PASSWORD="" ALARM_PLATFORM="" ALARM_USERNAME="" API_PASSWORD="" APPLETV_LOGIN_ID="" BEDROOM_APPLE_TV_IP="" BEDROOM_TV_IP="" BEDROOM_TV_MAC="" CAMERA_DASH=http://example.com CAMERA_URL_1=http://example.com CAMERA_URL_2=http://example.com CAMERA_URL_3=http://example.com CAMERA_URL_4=http://example.com CAMERA_URL_5=http://example.com CAMERA_URL_6=http://example.com CAMERA_URL_7=http://example.com CAMERA_URL_8=http://example.com CAMERA_URL_9=http://example.com CLIMATE_DASH=http://example.com DESK_HID_IDLE_TIME_RESOURCE=http://example.com ELEVATION=0 FORECAST_API_KEY="" GATEWAY_LINK=http://example.com GRAFANA_LINK=http://example.com GRAPHITE_LINK=http://example.com HUE_IP="" IFTTT_KEY="" ITUNES_IP="" ITUNES_URL="" JPHONE_PUSH_TARGET="" KITCHEN_LAT=0 KITCHEN_LONG=0 LAT=0 LETSENCRYPT_EMAIL="" LETSENCRYPT_HOST="" LONG=0 MASTER_LAT=0 MASTER_LONG=0 MOTION_LINK=http://example.com MPR_API_IP="" MPR_API_PORT=1 MQTT_BROKER="" MQTT_PASSWORD="" MQTT_PORT=1 MQTT_USERNAME="" MYQ_PASSWORD="" MYQ_USERNAME="" NUC_IP="" OFFICE_APPLE_TV_IP="" OFFICE_LAT=0 OFFICE_LONG=0 OFFICE_TV_IP="" OFFICE_TV_MAC="" ROUTER_LINK=http://example.com SELF_LINK=http://example.com SLACK_API_KEY="" SMOKEPING_LINK=http://example.com SSL_CERTIFICATE=/tmp/cert.pem SSL_KEY=/tmp/key.pem TRUSTED_NETWORK_1=0.0.0.0/0 TRUSTED_NETWORK_2=0.0.0.0/0 TRUSTED_NETWORK_3=0.0.0.0/0 VERA_LINK=http://example.com VERA_URL=http://example.com VIRTUAL_HOST=example.com VIRTUAL_NETWORK="" VIRTUAL_PORT=""
